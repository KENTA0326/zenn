---
title: "hidden_field"
emoji: "⛳"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [rails]
published: true
---

# はじめに
　hidden_fieldとはHTMLフォーム内で非表示のフィールドを生成するために使用されるRailsのヘルパーメソッドの一つです。
　このメソッドは、フォーム内のデータをサーバーに送信するために、画面上では表示されないがサーバーサイドで使用される値を格納します。

## 使用例
```
<%= form_for @user do |f| %>
  <%= f.hidden_field :user_id, value: @user.id %>
  <%= f.submit "Submit" %>
<% end %>
```
この例では、@userオブジェクトのidをuser_idという名前の非表示のフィールドに格納しています。
フォームが送信されると、この値がサーバーサイドに送信されます。

## 注意点
hidden_fieldを使用する際には、以下の注意点があります。

セキュリティ上の注意：
hidden_fieldにはユーザーが直接制御できないような情報を格納するのが一般的ですが、セキュリティには注意が必要です。例えば、認証情報や権限など、重要なデータを非表示フィールドに格納する場合は、サーバーサイドで適切な検証を行い、信頼性を確保する必要があります。

CSRF対策：
セキュリティトークンを格納するためにhidden_fieldを使用する場合、RailsではデフォルトでCSRF（Cross-Site Request Forgery）対策が組み込まれています。ただし、正しくセットアップされていない場合や、トークンの生成や検証が正しく行われていない場合は、セキュリティリスクが生じる可能性があります。CSRFトークンの管理には慎重に取り組む必要があります。

適切な用途で使用する：
hidden_fieldは主にフォームのデータをサーバーに送信するための補助的なフィールドとして使用されます。適切な用途で使用することが重要です。例えば、ユーザーには見せたくないが、サーバーサイドで必要な情報を格納する場合に使います。

データ整合性の確保：
hidden_fieldに格納されたデータはユーザーが変更できないようになっていますが、サーバーサイドでのデータ整合性を確保するためにも、適切なバリデーションや検証を行う必要があります。